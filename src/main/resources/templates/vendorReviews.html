<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="partials/head :: head">
    <meta charset="UTF-8">
    <title>Vendor Profile</title>

</head>
<body class="background background-food2">

<nav th:replace="partials/navbar :: navbar"></nav>

<div class="cards rounded">
    <h1 class="vendor-header"><span th:text="${vendor.name} + '\'s'"></span> Reviews</h1>

<!--    <a th:if="${user} != null" class="review" th:href="'/' + ${user.id} + '/reviews/' + ${vendor.id}">Leave a Review of This Vendor</a>-->

<!--    <a th:unless="${user} == null" class="review" href="/login">Leave a Review of This Vendor</a>-->

    <th:block th:switch="${user}">
        <th:block th:case="vendor"></th:block>
        <a th:case="guest" class="review" href="/login">Leave a Review of This Vendor</a>
        <a th:case="*" class="review" th:href="'/' + ${user.id} + '/reviews/' + ${vendor.id}">Leave a Review of This Vendor</a>
    </th:block>

    <div class="vendor-card" th:each="review : ${reviews}"> <!-- i iterates through vendors, but unlike vendor, nothings passing to it from backend-->
        <div class=label th:id="${review.id}">

            <h3 th:text="${review.owner.getUsername()}"></h3>
            <h3 th:text="'Rating: ' + ${review.rating}"></h3>
            <hr>
            <h3 th:text="${review.body}"></h3>

        </div>
    </div>
</div>

</body>
</html>